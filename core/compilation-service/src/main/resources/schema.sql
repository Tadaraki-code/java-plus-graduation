DROP TABLE IF EXISTS compilations CASCADE;
DROP TABLE IF EXISTS compilation_events CASCADE;

CREATE TABLE IF NOT EXISTS compilations (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL PRIMARY KEY,
    title VARCHAR(200) NOT NULL,
    pinned BOOLEAN DEFAULT FALSE
);

CREATE TABLE IF NOT EXISTS compilation_events (
   event_id BIGINT NOT NULL,
   compilation_id BIGINT NOT NULL,
   FOREIGN KEY (compilation_id) REFERENCES compilations(id) ON DELETE CASCADE
);